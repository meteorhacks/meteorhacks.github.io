<!DOCTYPE html>
<html lang='en'>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Kubernetes: The Future of Cloud Hosting | MeteorHacks</title>
  <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="/css/style.css" />
  <link href="/blog/rss.xml" rel="alternate" type="application/rss+xml" title="MeteorHacks - Meteor hacks and tricks by arunoda" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <script type="text/javascript" src='/js/jquery.min.js'></script>
<script type="text/javascript" src='/js/bootstrap.min.js'></script>
<script type="text/javascript" src="//use.typekit.net/nok3jzz.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
<script type="text/javascript" src="https://gumroad.com/js/gumroad.js">
</script>

<!-- Highlight JS -->
<link rel="stylesheet" href="/vendor/highlight/styles/zenburn.css">
<script type="text/javascript" src='/vendor/highlight/highlight.pack.js'></script>
<script>hljs.initHighlightingOnLoad();</script>

</head>
<body>

<!-- Email Handling -->








  <!-- Header Area -->
  <header class="navbar navbar-default" role="banner">
  <div class='container'>
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".mh-navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" id='mh-navbar-brand-title' href="/">MeteorHacks</a>
      
    </div>
    <nav class='collapse navbar-collapse mh-navbar-collapse clearfix' role='navigation'>
      <ul class="nav navbar-nav pull-right">
        <li><a href="https://bulletproofmeteor.com/?utm_source=meteorhacks&utm_medium=link&utm_term=meteorhacks&utm_content=homepage&utm_campaign=meteorhacks">BulletProof Meteor</a></li>
        
            <li><a href="/pro-meteor">Pro Meteor</a></li>
        
            <li><a href="/fast-render">Fast Render</a></li>
        
            <li><a href="/meteor-weekly">Meteor Weekly</a></li>
        
      </ul>
    </nav>
  </div>
</header>


  <div class='container' style='max-width:1000px'>
    <div id='top-banner'>
  <a href="https://kadira.io/?utm_source=meteorhacks&utm_medium=banner&utm_term=kadira&utm_content=toplink&utm_campaign=kadira">
    Kadira
  </a>
  <a href="https://kadira.io/?utm_source=meteorhacks&utm_medium=banner&utm_term=kadira&utm_content=toplink&utm_campaign=kadira">
     - Performance Monitoring for Meteor
  </a>
  <a href="https://kadira.io/?utm_source=meteorhacks&utm_medium=banner&utm_term=kadira&utm_content=toplink&utm_campaign=kadira">
   (you should try this)
  </a>
</div>

    <div class='row'>
      <div class='col-xs-8 hidden-xs' id='blog-page'>
        <h1>Kubernetes: The Future of Cloud Hosting</h1>
        <div id='blog-content' class='blog-seperator'>
          <p>Before we begin, let me first tell you what I mean by cloud hosting. This is quite a complex topic because there are several meanings to cloud hosting. We can talk about Heroku-like deployment services. Or we can talk about infrastructure services like AWS EC2. Or we can talk about Docker and other container technologies.</p>

<p>All of the above solutions will evolve and become mature. But I believe that in the future, just like most of us use Linux for servers, Kubernetes will be the choice for cloud hosting. Okay, what’s Kubernetes and why do I say this? Let’s have a look at it.</p>

<h2 id="what-is-kubernetes">What is Kubernetes?</h2>

<p><img src="https://cldup.com/XQoM4kTpdm.png" alt="Kubernetes Logo" /></p>

<p><a href="http://kubernetes.io/">Kubernetes</a> is Google’s solution for managing a cluster of containers. Currently it only supports Docker for containers. But in the future it’ll support other container solutions as well.</p>

<blockquote>
  <p>If you are new to Docker and containers, first read my <a href="https://meteorhacks.com/docker-container-war-and-meteor.html">blog post</a> about <a href="https://meteorhacks.com/docker-container-war-and-meteor.html">Docker and Container Wars</a>.</p>
</blockquote>

<p>Kubernetes provides a declarative API for managing clusters while giving us a lot of flexibility. You only need to tell it what to do and it’ll do the hard work for you. It has built-in support for microservices, load balancing, monitoring and so on. You can deploy any service you like into Kubernetes. There are also some services with built-in Kubernetes support. <a href="https://github.com/GoogleCloudPlatform/kubernetes/tree/master/examples/cassandra">Cassandra</a>, <a href="https://github.com/GoogleCloudPlatform/kubernetes/tree/master/examples/rethinkdb">RethinkDB</a> and <a href="https://github.com/GoogleCloudPlatform/kubernetes/tree/master/examples/spark">Spark</a> are some of them.</p>

<p>On the other hand, it’s an open technology and you can run Kubernetes anywhere you like. That’s the goal of Kubernetes but we are not 100% there yet. Services like <a href="https://tectonic.com/">TecTonic</a> makes this achievable and I hope most of the hosting providers will support Kubernetes natively in the future.</p>

<h2 id="why-kubernetes">Why Kubernetes?</h2>

<p>Here’s why I think Kubernetes is the future of cloud hosting:</p>

<ol>
  <li>Its API is declarative and it gives us a lot of flexibility.</li>
  <li>Developers can integrate Kubernetes into their own services and make them native to Kubernetes.</li>
  <li>Infrastructure providers can implement Kubernetes on top of their infrastructure without much effort.</li>
  <li>It’s an open technology, so there is no vendor lock in.</li>
  <li>It’s supported by major players including Google, IBM, HP, VMWare, Microsoft and others.</li>
</ol>

<h2 id="lets-learn-something-about-kubernetes">Let’s Learn Something about Kubernetes</h2>

<p>You may think this is just another technology. That’s why I asked you to give it a try. That’s the intention of this article. Let’s start.</p>

<h3 id="first-some-concepts">First, Some Concepts</h3>

<p>It’s very important to learn a few core concepts first. Don’t worry I’ll keep them short.</p>

<p><img src="https://cldup.com/YgsLg7gM2L.png" alt="Kubernetes Components" /></p>

<h4 id="kubernetes-master">Kubernetes Master</h4>
<p>Kubernetes Master controls the overall cluster and runs the API for the cluster. Basically, it takes care of everything in the cluster.</p>

<h4 id="nodes">Nodes</h4>
<p>A Node is a physical server (or a VM) inside the cluster. It communicates with the master and runs containers (actually pods). You can add and remove any number of nodes you like.</p>

<h4 id="pods">Pods</h4>
<p>A pod is the basic building block in Kubernetes. Inside a pod, you can run a set of containers. We can allocate CPU, memory, volumes and other resources to a pod. All the containers inside the pod can share them. Kubernetes also assigns a unique network namespace to each pod. So, you don’t need to worry about conflicting ports because every pod has its own IP address and a hostname.</p>

<h4 id="replication-controller">Replication Controller</h4>

<p>Even though a pod is a very powerful component, it can’t handle failures itself. Let’s say the node (server) running our pod crashed. Then our pod will be removed from the cluster too. But, this is not the behavior we want. Failures are inevitable and even in such situations, we need to provide our service to the customers. That’s what the replication controller does.</p>

<p>It watches the cluster and ensures that a given number of pods are running in the cluster all the time. It can launch new pods and remove existing pods. We can also change the number of pods assigned to a replication controller.</p>

<p>For this to function, we need to define our pod as a template inside the replication controller.</p>

<h4 id="services">Services</h4>

<p>We know, pods are added and removed. So, we need a way to load-balance our traffic into these pods. “Service” is the solution. It can act as a dynamic load balancer for a set of pods. It’s very efficient and uses IP tables and other techniques to avoid the load-balancing overhead.</p>

<p>Services also comes with basic sticky session support.</p>

<p>Additionally, you can access these services via the DNS from inside each pod inside the cluster. So, it acts as a backbone for microservices.</p>

<hr />

<p>Enough talking! Let’s deploy a Kubernetes cluster.</p>

<h2 id="deploying-a-kubernetes-cluster">Deploying a Kubernetes Cluster</h2>

<blockquote>
  <p>You will need a basic understanding of Linux and related tools to follow the rest of the article.</p>
</blockquote>

<p>Deploying a real cluster is a hard job and takes some effort. So, we are going to deploy a test cluster inside a single server. You’ll need a <strong>Ubuntu 64-bit server</strong>. It could be a cloud VM or a Vagrant box.</p>

<p>Apply this command to deploy a cluster on this server:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>wget -qO- http://git.io/veKlu | sudo sh
</code></pre>
</div>

<blockquote>
  <p>Here we are using <a href="https://github.com/meteorhacks/kube-init">kube-init</a> to deploy our cluster. It’s based on the latest version of Kubernetes and we’ll update it as new versions are released.</p>
</blockquote>

<h3 id="accessing-the-kubernetes-network">Accessing the Kubernetes Network</h3>

<p>Kubernetes creates its own network inside the cluster. Each pod and service get their own IP address. It’s great because we can access their IPs from our local machine. Let’s do so.</p>

<p>First you need to create a <a href="http://en.wikipedia.org/wiki/SOCKS">SOCKS proxy</a> with your server. To do so, simply apply the following command in a separate terminal session:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ssh -D 8082 your-user@your-server-ip
</code></pre>
</div>

<p>This command will log you into the server. Also, it’ll create a SOCKS proxy on <code class="highlighter-rouge">localhost</code> on port <code class="highlighter-rouge">8082</code>.</p>

<p>Then we need to configure our browser for the SOCKS proxy we’ve just created. I’ll show you how to do this for both Chrome and Firefox on a Mac. The instructions for Linux and Windows are much the same.</p>

<ul>
  <li><a href="https://www.youtube.com/watch?v=QPSYy0vZjw4&amp;feature=youtu.be">For Firefox</a> - (Recommended. This will add the proxy to Firefox only.)</li>
  <li><a href="https://www.youtube.com/watch?v=ASugh1lSmps&amp;feature=youtu.be">For Chrome</a> - (This will add the proxy to your whole machine.)</li>
</ul>

<h2 id="deploy-a-pod-into-the-cluster">Deploy a Pod into the Cluster</h2>

<p>Now we are going to deploy a pod (or an app) into the cluster. It’s a <a href="http://www.telescopeapp.org/">Telescope</a> app that is an open-source app like Hacker News.</p>

<p>First create a file called <code class="highlighter-rouge">telescope-pod.json</code> inside the server. Put this content into it:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"telescope-pod"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pod"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"apiVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1beta3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"spec"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mongo"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mongo"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"mongod"</span><span class="p">,</span><span class="w"> </span><span class="s2">"--smallfiles"</span><span class="p">,</span><span class="w"> </span><span class="s2">"--nojournal"</span><span class="p">],</span><span class="w">
        </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="nt">"containerPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">27017</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"telescope"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"meteorhacks/telescope"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="nt">"containerPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nt">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROOT_URL"</span><span class="p">,</span><span class="w"> </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://mydomain.com"</span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONGO_URL"</span><span class="p">,</span><span class="w"> </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mongodb://localhost:27017/app"</span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>So, basically, the above file defined a pod named <code class="highlighter-rouge">telescope-pod</code>. There are two containers inside the pod. The first one is a MongoDB container and other one is the telescope app. We’ve given the MongoDB URL to the telescope app via an environment variable as <code class="highlighter-rouge">mongodb://localhost:27017/app</code>.</p>

<p>We can access the MongoDB container port inside the telescope container. Normally we can’t do this. This is possible inside a pod because a single pod shares resources with other containers. The network is one such resource.</p>

<p>Now simply run the following command to launch our pod:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>kubectl create -f telescope-pod.json
</code></pre>
</div>
<p>You can check the status of your pod by running:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>kubectl get pod
</code></pre>
</div>

<p>At first, it’ll show the state of our pod as ’Pending’. That’s because Kubernetes is downloading telescope and Mongo images. Wait a minute or two, then you’ll see the state as ‘Running’.</p>

<h3 id="accessing-our-deployed-telescope-app">Accessing Our Deployed Telescope App</h3>

<p>Here’s the output when I run <code class="highlighter-rouge">kubectl get pod</code>:</p>

<p><img src="https://cldup.com/nztSyh7t7E.png" alt="Kubernets Pod Info" /></p>

<p>Here, you can see an IP address assigned to your pod. That’s the IP address for your pod. Copy and paste it into the browser configured with the SOCKS proxy. Now you can access our telescope app. :)</p>

<p><img src="https://cldup.com/pGn3jk4e10.png" alt="Deployed Telescope App" /></p>

<h2 id="what-next">What Next?</h2>

<p>We’ve just tried Kubernetes. There is a lot more to learn. Look at other Kubernetes articles and videos, and try those commands with our test cluster.</p>

<p>I’ve also written two lessons on <a href="https://bulletproofmeteor.com/architecture/docker-and-meteor">Docker</a> and <a href="https://bulletproofmeteor.com/architecture/deploying-meteor-apps-into-a-kubernetes-cluster">Kubernetes</a> for <a href="https://bulletproofmeteor.com/">BulletProof Meteor</a>. Even though this is a learning platform for Meteor, to follow these lessons you don’t need to know Meteor at all. Here are some of the things we are looking at.</p>

<h4 id="learn-docker">Learn Docker</h4>
<ul>
  <li>Installing Docker</li>
  <li>Understanding Basic concepts (images, containers, etc.)</li>
  <li>Running containers in different ways (named, background services, auto-restart)</li>
  <li>Building images (with docker commit and docker build)</li>
  <li>Managing Ports</li>
  <li>Publishing containers and Docker registries</li>
</ul>

<h4 id="learn-kubernetes">Learn Kubernetes</h4>
<ul>
  <li>Introduction to Kubernetes</li>
  <li>Deploying our first Kubernetes cluster</li>
  <li>Deploying the telescope app (as a pod) in a cluster</li>
  <li>Using a replication controller for high availability and scalability</li>
  <li>Changing replicas</li>
  <li>Kubernetes services for load-balancing pods</li>
  <li>Deploying our own MongoDB service</li>
  <li>Deploying a new version with a rolling update</li>
  <li>Microservices with Kubernetes</li>
</ul>

<p>You can complete these lessons in a few hours and they are task oriented. So, you don’t need to waste your time watching videos or reading a lot of text. I bet you’ll like them. Here are those two lessons:</p>

<ul>
  <li><a href="https://bulletproofmeteor.com/architecture/docker-and-meteor">Learn Docker from the Very Beginning</a></li>
  <li><a href="https://bulletproofmeteor.com/architecture/deploying-meteor-apps-into-a-kubernetes-cluster">Learn How to Deploy Apps into Kubernetes and Manage Them</a></li>
</ul>

<h2 id="so-are-you-with-me">So. Are you with me?</h2>

<p>Now, you’ve a solid idea of what Kubernetes is. So, do you also think it’s the future of cloud hosting?</p>

<p>Imagine that every cloud provider and software like MongoDB supports Kubernetes by default. I don’t think we will need to wait a decade to see this.</p>

<p>Let’s discuss.</p>

        </div>

        <div class='subscribe-form'>
          <div class='title'>Read MeteorHacks from Your Inbox</div>
          <form action="https://madmimi.com/signups/subscribe/85188" method="post" target="_blank">
            <input type='text' name='signup[email]' class='subscribe-form-email' placeholder='Enter your email' />
            <input type='submit' class='subscribe-form-submit' value='Subscribe Now' />
          </form>
        </div>

        
        <div id='blog-page-comments'>
        <!-- DISQUS COMMENT CODE -->
              <div id="disqus_thread"></div>
              <script type="text/javascript">
                  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                  var disqus_shortname = 'meteorhacks'; // required: replace example with your forum shortname

                  /* * * DON'T EDIT BELOW THIS LINE * * */
                  (function() {
                      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                  })();
              </script>
              <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
              <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    

        <!-- DISQUS COMMENT CODE -->
        </div>
        
      </div>
      <div class='col-xs-4 hidden-xs' id='blog-sidebar'>
        <div id='blog-sidebar-date'>
          April 22, 2015
        </div>
        <div id='blog-sidebar-links'>
          <button class='btn btn-default twitter' onclick='location.href="http://twitter.com/meteorhacks"'>follow @meteorhacks</button> <br>
          <button class='btn btn-default subscribe' onclick='location.href="http://mad.ly/signups/85188/join"'>Subscribe to MeteorHacks</button>
        </div>

        <div id='blog-sidebar-share-links'>
          <div class="pull-left" style="width: 90px;">
            <!-- TWITTER START HERE -->
            <a href="https://twitter.com/share" class="twitter-share-button" data-via="meteorhacks">Tweet</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
            <!-- TWITTER END HERE -->
          </div>
          <div class="pull-left">
            <!-- START FB -->
            <div id="fb-root"></div>
            <script>(function(d, s, id) {
              var js, fjs = d.getElementsByTagName(s)[0];
              if (d.getElementById(id)) return;
              js = d.createElement(s); js.id = id;
              js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=465096423559129";
              fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));</script>
            <div class="fb-like" data-send="false" data-layout="button_count" data-width="450" data-show-faces="true" data-font="arial"></div>
            <!-- END FB -->
          </div>
          <div style="clear:both"></div>
        </div>

        <div>
  <a href="https://bulletproofmeteor.com/?utm_source=meteorhacks&utm_medium=link&utm_term=meteorhacks&utm_content=sidebar&utm_campaign=meteorhacks">
    <img src="/images/bullet-proof-banner.png" class='side-bar-add'>
  </a>
</div>


        <div id='blog-sidebar-items'>
          <h3>Recent Hacks</h3>
          <ul>
            
              
                <li class='post'>
                  
                    <a href='https://kadira.io/blog/graphql/initial-impression-on-react-and-graphql'>Initial Impressions on GraphQL & Relay</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/improving-blaze-performance-part-1'>Improving The Performance of Blaze - Better Way To Destroy Views</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteor-ui-pattern-keeping-app-state-in-the-url'>Meteor UI Pattern: Keeping App State on the URL</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteorhacks-show-may-2015-docker-and-meteor'>MeteorHacks Show - Docker & Meteor feat. Justin from MDG</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteor-for-windows-getting-started-guide'>Meteor for Windows: Getting Started Guide</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/learn-kubernetes-the-future-of-the-cloud'>Kubernetes: The Future of Cloud Hosting</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/introducing-sikka-a-firewall-for-meteor-apps'>Introducing Sikka: A Firewall for Meteor Apps</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/flow-router-and-subscription-management'>Flow Router and Subscription Management</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/docker-container-war-and-meteor'>Docker, The Container War and Meteor</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/introducing-multi-core-support-for-meteor'>Introducing Multi-Core Support for Meteor</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/postponing-nodejs-internals-lessons-on-bulletproof-meteor'>Postponing NodeJS Internals Lessons on BulletProof Meteor</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/cluster-performance-test-its-impressive'>Meteor Cluster Performance Test: Impressive Results</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/cluster-a-different-kind-of-load-balancer-for-meteor'>Meteor Cluster - A Different Kind of Load Balancer for Meteor</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteorhacks-show-feb'>MeteorHacks Show Feb 2015 - Scaling Meteor and Microservices</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/bulletproof-meteor-leaderboard-and-prizes'>BulletProof Meteor Leaderboard & Prizes</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/implementing-an-instant-search-solution-with-meteor'>Implementing an Instant Search Solution with Meteor</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteorhacks-show-recording-and-follow-up-blog-post'>MeteorHacks Show 2 – Recording and Follow-up Blog Posts</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteor-server-sider-rendering-for-seo-purpose'>Meteor Server-Side Rendering for SEO Purposes</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteorhacks-show-server-side-rendering-kadira-insight'>MeteorHacks Show 2 - Server Side Rendering & Kadira Insight</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteor-seo-google-fetch-and-render'>Meteor SEO - Google Fetch & Render</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteor-day-and-meteorhacks'>Meteor Day and MeteorHacks</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/profiling-a-meteor-app-telescope'>Profiling a Meteor app: Telescope</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/server-side-rendering'>Server Side Rendering for Meteor</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='https://kadira.io/academy/managing-waittime/'>Managing Wait Time on Meteor methods and subscriptions</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='https://kadira.io/blog/awesome-error-tracking-solution-for-meteor-apps-with-kadira/'>Awesome Error Tracking Solution for Meteor Apps</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/understanding-mergebox'>Understanding MergeBox</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteor-packaging-system-understanding-versioning'>The Meteor Packaging System – Understanding Versioning</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/how-blaze-works'>How Blaze Works - Meteor's Reactive Templating UI</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/introduction-to-latency-compensation'>Introduction to Latency Compensation</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/client-side-debugging-for-meteor-apps'>Client-Side Debugging For Meteor Apps</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/journey-into-meteors-reactivity'>Journey into Meteor's Reactivity</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='https://kadira.io/academy/optimize-your-app-for-oplog/'>Optimize Your Meteor App for Oplog Integration</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/subscriptions-manager-is-here'>Subscriptions Manager is Here!</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/june-a-big-month-for-us'>June -- a big month for us</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/we-launched-kadira'>We launched Kadira: Performance Monitoring for Meteor</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/june-2nd-we-are-launching-meteor-apm'>June 2nd – We are launching Meteor APM</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/improving-meteors-mongodb-read-performance-and-cpu-usage-with-find-faster'>Improving Meteor’s MongoDB Read Performance and CPU Usage with Find-Faster</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/instant-login-for-meteor-with-fast-render'>Instant Login For Meteor With Fast Render</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/xss-and-meteor'>Cross Site Scripting(XSS) and Meteor</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/understanding-meteor-wait-time-and-this-unblock'>Understanding Meteor Wait Time & this.unblock</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteor-js-web-framework-for-everyone'>Meteor.js - A web framework for everyone</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/how-to-use-the-new-meteor-retry-package'>How to Use The New Meteor Retry Package</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/recent-changes-on-the-meteor-roadmap'>Recent Changes on The Meteor Roadmap</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/subscription-manager-for-iron-router'>Subscription Manager for Iron Router</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteor-in-production-a-case-study'>Meteor in Production - A Case Study</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/building-static-websites-with-meteor'>Building Static Websites with Meteor</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/whats-happended-at-the-first-meteorhacks-show'>What's happened at the First MeteorHacks Show</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteor-subscription-optimizations'>Meteor Subscription Optimization</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/integrating-iron-router-based-apps-with-fast-render'>Integrating Iron Router Based Apps with Fast Render</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/how-to-test-fast-render-working-or-not'>How to Test whether Fast Render is Working or Not</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/fast-render-internals-and-how-it-works'>Fast Render Internals and How It Works</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/announcing-the-meteorhacks-show'>Announcing The MeteorHacks Show</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/fast-render'>Meteor Fast Render [docs]</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/introducing-fast-render'>Introducing Fast Render</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteorhacks-is-ready-for-2014-with-a-big-announcement'>MeteorHacks is Ready for 2014 with a Big Announcement</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/improved-async-utilities-in-meteor-npm'>Improved Async Utilities in Meteor-NPM</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/pro-meteor'>Introducing Pro Meteor Guide</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/the-meteor-marketplace'>The Meteor Marketplace</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='http://meteorhacks.com/meteor-weekly-meteor-ui-nodejs-security-fix-packaged-apps.html'>[Meteor Weekly] Meteor UI, NodeJS Security Fix, Packaged Apps and More</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/retiring-smart-collections'>Retiring SmartCollections</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/debugging-meteor-packages-and-apps'>Debugging Meteor Packages and Apps</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/introducing-portable-meteor-user'>Introducing Portable Meteor User</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/ever-improving-smart-collections'>Ever Improving Smart Collections</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/discover-meteor-ddp-in-realtime'>Discover Meteor DDP in Realtime</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/npm-meteor-integration-is-back'>NPM Meteor Integration is Back for Meteor 0.6.5</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/how-meteor-uses-node'>How Meteor Uses NodeJS</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/lets-scale-meteor'>Let's Scale Meteor - Using MongoDB Oplog</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/making-meteor-500-faster-with-smart-collections'>Making Meteor 500% Faster with Smart Collections</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/introducing-smart-collections'>Introducing Smart Collections for Meteor</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/continuos-integration-for-meteor-apps'>Continuous Integration for Meteor Apps</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/realtime-blackboard.html'>[Free eBook] Let's Create a Realtime Blackboard</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/introducing-meteor-streams'>Introducing Meteor Streams</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/logging-support-for-meteor'>Logging Support for Meteor with Winston</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/mongodb-replica-sets-with-meteor'>MongoDB Replica Sets with Meteor</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/complete-npm-integration-for-meteor'>Complete NPM integration for Meteor</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/load-balancing-your-meteor-app'>Load Balancing Your Meteor App</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/extending-meteor-accounts'>Extending Meteor Accounts (login system)</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/travis-ci-support-for-meteor-packages'>Travis CI support for Meteor Packages</a>
                  
                </li>
              
            
              
                <li class='post'>
                  
                    <a href='/meteor-cluster-introduction-and-how-it-works'>Meteor Cluster - Introduction & how it works</a>
                  
                </li>
              
            
          </ul>
        </div>
      </div>
    </div>
    <div class='row blog-xs'>
      <div class='col-xs-12 visible-xs' id='blog-page'>
        <h1>Kubernetes: The Future of Cloud Hosting</h1>
        <div id='blog-content'>
          <p>Before we begin, let me first tell you what I mean by cloud hosting. This is quite a complex topic because there are several meanings to cloud hosting. We can talk about Heroku-like deployment services. Or we can talk about infrastructure services like AWS EC2. Or we can talk about Docker and other container technologies.</p>

<p>All of the above solutions will evolve and become mature. But I believe that in the future, just like most of us use Linux for servers, Kubernetes will be the choice for cloud hosting. Okay, what’s Kubernetes and why do I say this? Let’s have a look at it.</p>

<h2 id="what-is-kubernetes">What is Kubernetes?</h2>

<p><img src="https://cldup.com/XQoM4kTpdm.png" alt="Kubernetes Logo" /></p>

<p><a href="http://kubernetes.io/">Kubernetes</a> is Google’s solution for managing a cluster of containers. Currently it only supports Docker for containers. But in the future it’ll support other container solutions as well.</p>

<blockquote>
  <p>If you are new to Docker and containers, first read my <a href="https://meteorhacks.com/docker-container-war-and-meteor.html">blog post</a> about <a href="https://meteorhacks.com/docker-container-war-and-meteor.html">Docker and Container Wars</a>.</p>
</blockquote>

<p>Kubernetes provides a declarative API for managing clusters while giving us a lot of flexibility. You only need to tell it what to do and it’ll do the hard work for you. It has built-in support for microservices, load balancing, monitoring and so on. You can deploy any service you like into Kubernetes. There are also some services with built-in Kubernetes support. <a href="https://github.com/GoogleCloudPlatform/kubernetes/tree/master/examples/cassandra">Cassandra</a>, <a href="https://github.com/GoogleCloudPlatform/kubernetes/tree/master/examples/rethinkdb">RethinkDB</a> and <a href="https://github.com/GoogleCloudPlatform/kubernetes/tree/master/examples/spark">Spark</a> are some of them.</p>

<p>On the other hand, it’s an open technology and you can run Kubernetes anywhere you like. That’s the goal of Kubernetes but we are not 100% there yet. Services like <a href="https://tectonic.com/">TecTonic</a> makes this achievable and I hope most of the hosting providers will support Kubernetes natively in the future.</p>

<h2 id="why-kubernetes">Why Kubernetes?</h2>

<p>Here’s why I think Kubernetes is the future of cloud hosting:</p>

<ol>
  <li>Its API is declarative and it gives us a lot of flexibility.</li>
  <li>Developers can integrate Kubernetes into their own services and make them native to Kubernetes.</li>
  <li>Infrastructure providers can implement Kubernetes on top of their infrastructure without much effort.</li>
  <li>It’s an open technology, so there is no vendor lock in.</li>
  <li>It’s supported by major players including Google, IBM, HP, VMWare, Microsoft and others.</li>
</ol>

<h2 id="lets-learn-something-about-kubernetes">Let’s Learn Something about Kubernetes</h2>

<p>You may think this is just another technology. That’s why I asked you to give it a try. That’s the intention of this article. Let’s start.</p>

<h3 id="first-some-concepts">First, Some Concepts</h3>

<p>It’s very important to learn a few core concepts first. Don’t worry I’ll keep them short.</p>

<p><img src="https://cldup.com/YgsLg7gM2L.png" alt="Kubernetes Components" /></p>

<h4 id="kubernetes-master">Kubernetes Master</h4>
<p>Kubernetes Master controls the overall cluster and runs the API for the cluster. Basically, it takes care of everything in the cluster.</p>

<h4 id="nodes">Nodes</h4>
<p>A Node is a physical server (or a VM) inside the cluster. It communicates with the master and runs containers (actually pods). You can add and remove any number of nodes you like.</p>

<h4 id="pods">Pods</h4>
<p>A pod is the basic building block in Kubernetes. Inside a pod, you can run a set of containers. We can allocate CPU, memory, volumes and other resources to a pod. All the containers inside the pod can share them. Kubernetes also assigns a unique network namespace to each pod. So, you don’t need to worry about conflicting ports because every pod has its own IP address and a hostname.</p>

<h4 id="replication-controller">Replication Controller</h4>

<p>Even though a pod is a very powerful component, it can’t handle failures itself. Let’s say the node (server) running our pod crashed. Then our pod will be removed from the cluster too. But, this is not the behavior we want. Failures are inevitable and even in such situations, we need to provide our service to the customers. That’s what the replication controller does.</p>

<p>It watches the cluster and ensures that a given number of pods are running in the cluster all the time. It can launch new pods and remove existing pods. We can also change the number of pods assigned to a replication controller.</p>

<p>For this to function, we need to define our pod as a template inside the replication controller.</p>

<h4 id="services">Services</h4>

<p>We know, pods are added and removed. So, we need a way to load-balance our traffic into these pods. “Service” is the solution. It can act as a dynamic load balancer for a set of pods. It’s very efficient and uses IP tables and other techniques to avoid the load-balancing overhead.</p>

<p>Services also comes with basic sticky session support.</p>

<p>Additionally, you can access these services via the DNS from inside each pod inside the cluster. So, it acts as a backbone for microservices.</p>

<hr />

<p>Enough talking! Let’s deploy a Kubernetes cluster.</p>

<h2 id="deploying-a-kubernetes-cluster">Deploying a Kubernetes Cluster</h2>

<blockquote>
  <p>You will need a basic understanding of Linux and related tools to follow the rest of the article.</p>
</blockquote>

<p>Deploying a real cluster is a hard job and takes some effort. So, we are going to deploy a test cluster inside a single server. You’ll need a <strong>Ubuntu 64-bit server</strong>. It could be a cloud VM or a Vagrant box.</p>

<p>Apply this command to deploy a cluster on this server:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>wget -qO- http://git.io/veKlu | sudo sh
</code></pre>
</div>

<blockquote>
  <p>Here we are using <a href="https://github.com/meteorhacks/kube-init">kube-init</a> to deploy our cluster. It’s based on the latest version of Kubernetes and we’ll update it as new versions are released.</p>
</blockquote>

<h3 id="accessing-the-kubernetes-network">Accessing the Kubernetes Network</h3>

<p>Kubernetes creates its own network inside the cluster. Each pod and service get their own IP address. It’s great because we can access their IPs from our local machine. Let’s do so.</p>

<p>First you need to create a <a href="http://en.wikipedia.org/wiki/SOCKS">SOCKS proxy</a> with your server. To do so, simply apply the following command in a separate terminal session:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ssh -D 8082 your-user@your-server-ip
</code></pre>
</div>

<p>This command will log you into the server. Also, it’ll create a SOCKS proxy on <code class="highlighter-rouge">localhost</code> on port <code class="highlighter-rouge">8082</code>.</p>

<p>Then we need to configure our browser for the SOCKS proxy we’ve just created. I’ll show you how to do this for both Chrome and Firefox on a Mac. The instructions for Linux and Windows are much the same.</p>

<ul>
  <li><a href="https://www.youtube.com/watch?v=QPSYy0vZjw4&amp;feature=youtu.be">For Firefox</a> - (Recommended. This will add the proxy to Firefox only.)</li>
  <li><a href="https://www.youtube.com/watch?v=ASugh1lSmps&amp;feature=youtu.be">For Chrome</a> - (This will add the proxy to your whole machine.)</li>
</ul>

<h2 id="deploy-a-pod-into-the-cluster">Deploy a Pod into the Cluster</h2>

<p>Now we are going to deploy a pod (or an app) into the cluster. It’s a <a href="http://www.telescopeapp.org/">Telescope</a> app that is an open-source app like Hacker News.</p>

<p>First create a file called <code class="highlighter-rouge">telescope-pod.json</code> inside the server. Put this content into it:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"telescope-pod"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pod"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"apiVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1beta3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"spec"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mongo"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mongo"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"mongod"</span><span class="p">,</span><span class="w"> </span><span class="s2">"--smallfiles"</span><span class="p">,</span><span class="w"> </span><span class="s2">"--nojournal"</span><span class="p">],</span><span class="w">
        </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="nt">"containerPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">27017</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"telescope"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"meteorhacks/telescope"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="nt">"containerPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nt">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROOT_URL"</span><span class="p">,</span><span class="w"> </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://mydomain.com"</span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONGO_URL"</span><span class="p">,</span><span class="w"> </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mongodb://localhost:27017/app"</span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>So, basically, the above file defined a pod named <code class="highlighter-rouge">telescope-pod</code>. There are two containers inside the pod. The first one is a MongoDB container and other one is the telescope app. We’ve given the MongoDB URL to the telescope app via an environment variable as <code class="highlighter-rouge">mongodb://localhost:27017/app</code>.</p>

<p>We can access the MongoDB container port inside the telescope container. Normally we can’t do this. This is possible inside a pod because a single pod shares resources with other containers. The network is one such resource.</p>

<p>Now simply run the following command to launch our pod:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>kubectl create -f telescope-pod.json
</code></pre>
</div>
<p>You can check the status of your pod by running:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>kubectl get pod
</code></pre>
</div>

<p>At first, it’ll show the state of our pod as ’Pending’. That’s because Kubernetes is downloading telescope and Mongo images. Wait a minute or two, then you’ll see the state as ‘Running’.</p>

<h3 id="accessing-our-deployed-telescope-app">Accessing Our Deployed Telescope App</h3>

<p>Here’s the output when I run <code class="highlighter-rouge">kubectl get pod</code>:</p>

<p><img src="https://cldup.com/nztSyh7t7E.png" alt="Kubernets Pod Info" /></p>

<p>Here, you can see an IP address assigned to your pod. That’s the IP address for your pod. Copy and paste it into the browser configured with the SOCKS proxy. Now you can access our telescope app. :)</p>

<p><img src="https://cldup.com/pGn3jk4e10.png" alt="Deployed Telescope App" /></p>

<h2 id="what-next">What Next?</h2>

<p>We’ve just tried Kubernetes. There is a lot more to learn. Look at other Kubernetes articles and videos, and try those commands with our test cluster.</p>

<p>I’ve also written two lessons on <a href="https://bulletproofmeteor.com/architecture/docker-and-meteor">Docker</a> and <a href="https://bulletproofmeteor.com/architecture/deploying-meteor-apps-into-a-kubernetes-cluster">Kubernetes</a> for <a href="https://bulletproofmeteor.com/">BulletProof Meteor</a>. Even though this is a learning platform for Meteor, to follow these lessons you don’t need to know Meteor at all. Here are some of the things we are looking at.</p>

<h4 id="learn-docker">Learn Docker</h4>
<ul>
  <li>Installing Docker</li>
  <li>Understanding Basic concepts (images, containers, etc.)</li>
  <li>Running containers in different ways (named, background services, auto-restart)</li>
  <li>Building images (with docker commit and docker build)</li>
  <li>Managing Ports</li>
  <li>Publishing containers and Docker registries</li>
</ul>

<h4 id="learn-kubernetes">Learn Kubernetes</h4>
<ul>
  <li>Introduction to Kubernetes</li>
  <li>Deploying our first Kubernetes cluster</li>
  <li>Deploying the telescope app (as a pod) in a cluster</li>
  <li>Using a replication controller for high availability and scalability</li>
  <li>Changing replicas</li>
  <li>Kubernetes services for load-balancing pods</li>
  <li>Deploying our own MongoDB service</li>
  <li>Deploying a new version with a rolling update</li>
  <li>Microservices with Kubernetes</li>
</ul>

<p>You can complete these lessons in a few hours and they are task oriented. So, you don’t need to waste your time watching videos or reading a lot of text. I bet you’ll like them. Here are those two lessons:</p>

<ul>
  <li><a href="https://bulletproofmeteor.com/architecture/docker-and-meteor">Learn Docker from the Very Beginning</a></li>
  <li><a href="https://bulletproofmeteor.com/architecture/deploying-meteor-apps-into-a-kubernetes-cluster">Learn How to Deploy Apps into Kubernetes and Manage Them</a></li>
</ul>

<h2 id="so-are-you-with-me">So. Are you with me?</h2>

<p>Now, you’ve a solid idea of what Kubernetes is. So, do you also think it’s the future of cloud hosting?</p>

<p>Imagine that every cloud provider and software like MongoDB supports Kubernetes by default. I don’t think we will need to wait a decade to see this.</p>

<p>Let’s discuss.</p>

        </div>
          <div class='subscribe-form'>
            <div class='title'>Read MeteorHacks from Your Inbox</div>
            <form action="https://madmimi.com/signups/subscribe/85188" method="post" target="_blank">
              <input type='text' name='signup[email]' class='subscribe-form-email' placeholder='Enter your email' />
              <input type='submit' class='subscribe-form-submit' value='Subscribe Now' />
            </form>
          </div>
      </div>
    </div>
  </div>

  <!-- Footer goes here -->
  <footer role='content-info' class='container'>
  MeteorHacks - 2014 
  
     - by <a href="https://plus.google.com/u/0/+ArunodaSusiripala?rel=author">Arunoda Susiripala</a>
  
  <br>
  <small>
    MeteorHacks is an independent entity and has not been authorized, sponsored, or otherwise approved by Meteor Development Group.
  </small>
</footer>

  <!-- GA goes here -->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41396877-1', 'meteorhacks.com');
  ga('send', 'pageview');

</script>
</body>
</html>